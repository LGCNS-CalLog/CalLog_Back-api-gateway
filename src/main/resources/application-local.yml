server:
  port: 8080

eureka:
  instance:
    # Eureka에 등록할 때, 호스트명 대신 IP 주소 등록
    prefer-ip-address: true
  client:
    # export
    register-with-eureka: true
    # import
    fetch-registry: true
    serviceUrl:
      # Eureka 서버가 실행 중인 주소 명시
      # Eureka 서버에 연결해서 서비스 등록 및 검색 수행
      defaultZone: http://localhost:8761/eureka/

spring:
  cloud:
    config:
      enabled: false
    gateway:
      mvc:
        # 라우팅 설정 시작
        # 어떤 요청을 어떤 마이크로서비스로 전달할지 설정
        routes:
          # 로그 구분, 관리
          - id: callog_diet
            # Eureka에서 callog_diet라는 이름을 가진 인스턴스 중 하나로 요청 보냄
            uri: lb://callog_diet
            # 이 조건에 해당하는 요청만 해당 라우트로 전달됨
            # /diet로 시작하는 요청 → Eureak에서 callog_diet로 등록된 서비스로 전달
            predicates:
              - Path=/diet/**

          - id: callog-user
            uri: lb://callog-user
            predicates:
              - Path=/user/**